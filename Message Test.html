<head>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert-dev.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
</head>
<body> <!--Add refresh page every sec func later-->

<div id="Try"></div>

<form id="message">

    <input type="text" placeholder="Enter Message" id="Message">
   
    <button type="submit" id="submitData" name="submitData" class="btn">Send message</button>
</form>

  <script type="module"> 
   import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword,  signInWithEmailAndPassword, signOut, sendSignInLinkToEmail,onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
  import { getDatabase, set, ref, update, get, child} from "https://www.gstatic.com/firebasejs/9.13.0/firebase-database.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyB9XhRzkpjkyuAZLaMSxaLQJs7DwwNESmY",
    authDomain: "tradingo-824d6.firebaseapp.com",
    databaseURL: "https://tradingo-824d6-default-rtdb.firebaseio.com",
    projectId: "tradingo-824d6",
    storageBucket: "tradingo-824d6.appspot.com",
    messagingSenderId: "273813724823",
    appId: "1:273813724823:web:5af639aa92782227fe53d2",
    measurementId: "G-K74SN99P90"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth();
  const database = getDatabase();

  submitData.addEventListener('click', (e) => {
    var Message = document.getElementById('Message').value;
    
    event.preventDefault();

var msg = Message ;

set(ref(database, 'Group Messages/'), {
  
Message: msg,

});

swal({
title: 'Message was sent',
text: 'Message sent succesfully',
type: "success",
timer: 2000,
showConfirmButton: true
}, function(){
    //RegForm.style.transform = "translateX(300px)";
    //LoginForm.style.transform = "translateX(300px)";
    //Indicator.style.transform = "translateX(0px)";
});
      })
      
var chatInput = "";
var Try = document.getElementById('Try');

      submitData.addEventListener('click', (e) => {
  const dbRef = ref(getDatabase());
get(child(dbRef, 'messages/')).then((snapshot) => {
  if (snapshot.exists()) {

    console.log(snapshot.val());

    var chatInput = snapshot.val();

    Try.innerHTML = JSON.stringify(snapshot.val());

 Message.value = '';
 // document.getElementById("Try").value = chatInput; 

//console.log(chatInput);

   

  } else {
    console.log("No data available");
  }
}).catch((error) => {
  console.error(error);
});

//potang ina
    
    
})


</script>
  </body>